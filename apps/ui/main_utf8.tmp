import flet as ftfrom src.modules.login.auth_controller import AuthControllerimport asynciodef main(page: ft.Page):    page.window.width = 390    page.window.height = 650    # Contenedor animado de carga    splash = ft.Container(        width=390,        height=650,        bgcolor="#242e42",        alignment=ft.alignment.center,        content=ft.Column(            controls=[                ft.Text("Bienvenido", size=40, color="#FCE44D", weight="bold"),                ft.ProgressRing(width=60, height=60, stroke_width=8, color="#FCE44D"),                ft.Text("Cargando...", size=18, color="#ffffff")            ],            alignment=ft.MainAxisAlignment.CENTER,            spacing=20        ),        animate_opacity=500,        animate_scale=500    )    splash.opacity = 1    splash.scale = 1    # Control AnimatedSwitcher para transiciÃ³n    animated_view = ft.AnimatedSwitcher(        content=splash,        transition=ft.AnimatedSwitcherTransition.FADE,        duration=700,    )    page.add(animated_view)    page.update()    # Secuencia asÃ­ncrona: espera, anima y monta el login    async def splash_sequence():        await asyncio.sleep(1.5)        splash.opacity = 0        splash.scale = 0.9        if hasattr(page, "update_async"):            await page.update_async()        else:            page.update()        await asyncio.sleep(0.7)  # Espera a que termine el fade        # Montar el login en el hilo de UI para evitar timeouts        def mount_login():            page.clean()            AuthController(page)        if hasattr(page, "run_on_idle"):            page.run_on_idle(mount_login)        else:            mount_login()    # Ejecutar la secuencia sin bloquear el hilo principal    page.run_task(splash_sequence)if __name__ == "__main__":    ft.app(target=main, view=ft.AppView.FLET_APP)